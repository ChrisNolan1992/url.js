<!DOCTYPE html>
<html><head>
	<title>URL.js Example</title>
	<script src="url.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.5/require.min.js"></script>
</head><body>
<pre id="out"></pre>
<script>
//<![CDATA[
function p(s){document.getElementById("out").innerHTML += s+"\n"}
function pp(d){p(JSON.stringify(d, undefined, 4), undefined, 4)}
p("From script tag:");
p("Parse Document URL:");
pp(url.parse(document.location.href));
p("Parse ftp://my.host.com:1337/a/file?ftp=query%3F");
pp(url.parse("ftp://my.host.com:1337/a/file?ftp=query%3F"));

require.config({
	baseUrl: "",
});
require(["url"], function (rurl)
{
	p("\nFrom require module:");
	p("Parse email mailto:kevincox.ca@gmail.com");
	pp(rurl.parse("mailto:kevincox.ca@gmail.com"));

	p("Parse query string ?foo=bar&flag&a[0]=zero&a[2]=two&na[1][0]=nested&na[1][foo]=stillnested");
	pp(rurl.get("foo=bar&flag&a[0]=zero&a[2]=two&na[1][0]=nested&na[1][foo]=stillnested"));
	p("Same string with array parsing enabled.");
	var arrayparse = rurl.get("foo=bar&flag&a[0]=zero&a[2]=two&na[1][0]=nested&na[1][foo]=stillnested",{array:true});
	pp(arrayparse);
	p("It doesn't print it out but we didn't loose na[1][foo].");
	p("Let me print it out for you.");
	p("result.na[1]['foo'] == "+arrayparse.na[1]['foo']);
});
//]]>
</script>
</body></html>
